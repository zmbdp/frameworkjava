<div align="center">

# FrameworkJava - ä¼ä¸šçº§Spring Bootå¾®æœåŠ¡è„šæ‰‹æ¶

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.3.3-green.svg)](https://spring.io/projects/spring-boot)
[![Spring Cloud](https://img.shields.io/badge/Spring%20Cloud-2023.0.3-blue.svg)](https://spring.io/projects/spring-cloud)
[![Spring Cloud Alibaba](https://img.shields.io/badge/Spring%20Cloud%20Alibaba-2023.0.1.2-blueviolet.svg)](https://github.com/alibaba/spring-cloud-alibaba)
[![License](https://img.shields.io/github/license/zmbdp/frameworkjava)](https://github.com/zmbdp/frameworkjava/blob/master/LICENSE)

**ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ä¼ä¸šçº§å¾®æœåŠ¡è„šæ‰‹æ¶ï¼ŒåŠ©åŠ›å¿«é€Ÿæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„Javaå¾®æœåŠ¡åº”ç”¨**

[åŠŸèƒ½ç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ–‡æ¡£](#13-æ–‡æ¡£å’Œéƒ¨ç½²) â€¢ [é—®é¢˜åé¦ˆ](https://github.com/zmbdp/frameworkjava/issues)

</div>

---

## ğŸ“‘ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
  - [ä¸ºä»€ä¹ˆé€‰æ‹©FrameworkJavaï¼Ÿ](#ä¸ºä»€ä¹ˆé€‰æ‹©frameworkjava)
  - [é€‚ç”¨åœºæ™¯](#é€‚ç”¨åœºæ™¯)
  - [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [éƒ¨ç½²ç¯å¢ƒ](#-éƒ¨ç½²ç¯å¢ƒ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
  - [ä¸€é”®éƒ¨ç½²](#ä¸€é”®éƒ¨ç½²)
  - [è®¿é—®åœ°å€](#è®¿é—®åœ°å€)
- [æ ¸å¿ƒäº®ç‚¹è¯¦è§£](#-æ ¸å¿ƒäº®ç‚¹è¯¦è§£)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [APIæ–‡æ¡£å’Œä½¿ç”¨æ‰‹å†Œ](#13-æ–‡æ¡£å’Œéƒ¨ç½²)
- [è®¸å¯è¯](#-è®¸å¯è¯)
- [è”ç³»æ–¹å¼](#-è”ç³»æ–¹å¼)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

FrameworkJavaæ˜¯ä¸€ä¸ªåŸºäºSpring Boot 3.3.3å’ŒSpring Cloud 2023.0.3çš„ä¼ä¸šçº§å¾®æœåŠ¡è„šæ‰‹æ¶ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„Javaå¾®æœåŠ¡åº”ç”¨ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹©FrameworkJavaï¼Ÿ

- âœ… **å¼€ç®±å³ç”¨**ï¼šé¢„ç½®ä¼ä¸šçº§åº”ç”¨æ‰€éœ€çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ— éœ€ä»é›¶å¼€å§‹
- âœ… **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- âœ… **æœ€ä½³å®è·µ**ï¼šé›†æˆäº†ä¸šç•Œæˆç†Ÿçš„æŠ€æœ¯æ–¹æ¡ˆå’Œè®¾è®¡æ¨¡å¼
- âœ… **å®Œæ•´æ–‡æ¡£**ï¼šæä¾›è¯¦ç»†çš„å¼€å‘æ–‡æ¡£å’Œä½¿ç”¨æ‰‹å†Œ
- âœ… **æŒç»­æ›´æ–°**ï¼šæ´»è·ƒçš„ç¤¾åŒºæ”¯æŒå’ŒæŒç»­çš„åŠŸèƒ½è¿­ä»£

### é€‚ç”¨åœºæ™¯

- ğŸ¢ ä¼ä¸šçº§å¾®æœåŠ¡åº”ç”¨å¼€å‘
- ğŸ“¦ å¿«é€Ÿæ­å»ºé¡¹ç›®è„šæ‰‹æ¶
- ğŸ“ å­¦ä¹ Spring Cloudå¾®æœåŠ¡æ¶æ„
- ğŸ”§ ä½œä¸ºæŠ€æœ¯é€‰å‹å‚è€ƒ

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œé›†æˆäº†ä¼ä¸šçº§åº”ç”¨æ‰€éœ€çš„å¸¸è§åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç»Ÿä¸€è®¤è¯æˆæƒã€å¤šçº§ç¼“å­˜ã€å¼‚æ­¥çº¿ç¨‹ã€æ¶ˆæ¯é˜Ÿåˆ—ã€é…ç½®ä¸­å¿ƒã€å¹‚ç­‰æ€§æ§åˆ¶ç­‰ã€‚

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯å±‚                              â”‚
â”‚                    (Web/Mobile/API)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç½‘å…³æœåŠ¡å±‚                               â”‚
â”‚              (Spring Cloud Gateway)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è®¤è¯è¿‡æ»¤å™¨ â†’ è·¯ç”±è½¬å‘ â†’ é™æµæ§åˆ¶ â†’ å¼‚å¸¸å¤„ç†            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚  ç®¡ç†æœåŠ¡     â”‚ â”‚  æ–‡ä»¶æœåŠ¡   â”‚  â”‚  é—¨æˆ·æœåŠ¡    â”‚
â”‚ (Admin)      â”‚ â”‚  (File)     â”‚ â”‚   (Portal)   â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚      â”‚         â”‚      â”‚         â”‚     â”‚
    â”‚      â”‚         â”‚      â”‚         â”‚     â”‚
    â”‚      â”‚         â”‚      â”‚         â”‚     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜
           â”‚         â”‚      â”‚         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
    â”‚      â”‚         â”‚      â”‚         â”‚    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”   â”‚     â”Œâ”€â”€â”€â–¼â”€â”€â”   â”‚     â”Œâ”€â”€â”€â–¼â”€â”€â” â”‚
â”‚Nacos â”‚   â”‚     â”‚Redis â”‚   â”‚     â”‚Rabbitâ”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”˜   â”‚     â””â”€â”€â”€â”¬â”€â”€â”˜   â”‚     â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
           â”‚         â”‚      â”‚              â”‚
           â”‚         â”‚      â”‚              â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
              â”‚        MySQL       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¶æ„ç‰¹ç‚¹**ï¼š
- ğŸ—ï¸ **åˆ†å±‚æ¶æ„**ï¼šæ¸…æ™°çš„ç½‘å…³å±‚ã€æœåŠ¡å±‚ã€æ•°æ®å±‚åˆ’åˆ†
- ğŸ”„ **æœåŠ¡æ²»ç†**ï¼šåŸºäºNacoså®ç°æœåŠ¡æ³¨å†Œå‘ç°å’Œé…ç½®ç®¡ç†
- ğŸ’¾ **æ•°æ®å­˜å‚¨**ï¼šMySQLä¸»æ•°æ®åº“ + Redisç¼“å­˜ + RabbitMQæ¶ˆæ¯é˜Ÿåˆ—
- ğŸ” **å®‰å…¨è®¤è¯**ï¼šç½‘å…³å±‚ç»Ÿä¸€è®¤è¯ï¼Œæ”¯æŒJWTæ— çŠ¶æ€è®¤è¯
- âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šä¸‰çº§ç¼“å­˜æ¶æ„ï¼Œæœ‰æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½

## æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **å¾®æœåŠ¡æ¶æ„**: åŸºäºSpring Cloudçš„å®Œæ•´å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆ
- ğŸ”’ **å®‰å…¨è®¤è¯**: JWTæ— çŠ¶æ€è®¤è¯ + RedisçŠ¶æ€ç®¡ç†
- âš¡ **ä¸‰çº§ç¼“å­˜**: å¸ƒéš†è¿‡æ»¤å™¨ + Caffeineæœ¬åœ°ç¼“å­˜ + Redisåˆ†å¸ƒå¼ç¼“å­˜
- ğŸ”„ **å¹‚ç­‰æ€§æ§åˆ¶**: åŸºäºAOPçš„åˆ†å¸ƒå¼å¹‚ç­‰æ€§è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒHTTPå’ŒMQåœºæ™¯ï¼Œé’ˆå¯¹é«˜å¹¶å‘åœºæ™¯è¿›è¡Œä¼˜åŒ–
- ğŸ“¦ **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- ğŸ› ï¸ **å¼€ç®±å³ç”¨**: é¢„ç½®å¸¸è§ä¸šåŠ¡æ¨¡å—ï¼ˆç”¨æˆ·ç®¡ç†ã€é…ç½®ç®¡ç†ã€åœ°å›¾æœåŠ¡ç­‰ï¼‰
- ğŸ“Š **Excelå¤„ç†**: å®Œæ•´çš„Excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œæ”¯æŒå¤§æ•°å€¼ã€å•å…ƒæ ¼åˆå¹¶ç­‰
- ğŸ“§ **æ™ºèƒ½éªŒè¯ç **: æ ¹æ®ç”¨æˆ·è¾“å…¥æ ¼å¼ï¼ˆæ‰‹æœºå·/é‚®ç®±ï¼‰è‡ªåŠ¨é€‰æ‹©çŸ­ä¿¡æˆ–é‚®ä»¶å‘é€éªŒè¯ç 
- ğŸ“¨ **é‚®ä»¶æœåŠ¡**: å®Œå–„çš„é‚®ä»¶å‘é€åŠŸèƒ½ï¼Œæ”¯æŒHTMLã€é™„ä»¶ã€å†…åµŒå›¾ç‰‡ç­‰
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**: å®Œæ•´çš„Docker Composeéƒ¨ç½²æ–¹æ¡ˆ
- ğŸ“ˆ **ç›‘æ§å‹å¥½**: é›†æˆDockerå®¹å™¨å¥åº·æ£€æŸ¥å’ŒSpring Boot Actuatorç›‘æ§ç«¯ç‚¹

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

| æŠ€æœ¯ | è¯´æ˜ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|------|
| Spring Boot | æ ¸å¿ƒæ¡†æ¶ | 3.3.3 | åº”ç”¨åŸºç¡€æ¡†æ¶ |
| Spring Cloud | å¾®æœåŠ¡æ¡†æ¶ | 2023.0.3 | å¾®æœåŠ¡æ²»ç† |
| Spring Cloud Alibaba | é˜¿é‡Œå¾®æœåŠ¡ç»„ä»¶ | 2023.0.1.2 | æœåŠ¡æ³¨å†Œå‘ç°ã€é…ç½®ä¸­å¿ƒ |
| MyBatis-Plus | ORMæ¡†æ¶ | 3.5.7 | æ•°æ®åº“æ“ä½œ |
| EasyExcel | Excelå¤„ç† | 3.x | Excelå¯¼å…¥å¯¼å‡º |

### ä¸­é—´ä»¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Redis | 7.0.15 | ç¼“å­˜ã€åˆ†å¸ƒå¼é”ã€å¹‚ç­‰æ€§æ§åˆ¶ |
| MySQL | 8.4.2 | ä¸»æ•°æ®åº“ |
| Nacos | 2.2.2 | é…ç½®ä¸­å¿ƒå’ŒæœåŠ¡å‘ç° |
| RabbitMQ | 3.12.6 | æ¶ˆæ¯é˜Ÿåˆ— |

### å·¥å…·åº“

| æŠ€æœ¯ | è¯´æ˜ |
|------|------|
| Hutool | Javaå·¥å…·ç±»åº“ |
| Caffeine | æœ¬åœ°ç¼“å­˜ |
| Redisson | åˆ†å¸ƒå¼é” |
| JWT | æ— çŠ¶æ€è®¤è¯ |

## ğŸ“ é¡¹ç›®ç»“æ„
<pre>
frameworkjava
â”œâ”€â”€ zmbdp-gateway                    # ç½‘å…³æœåŠ¡
â”‚   â””â”€â”€ src/main/java/com/zmbdp/gateway
â”‚       â”œâ”€â”€ ZmbdpGatewayServiceApplication.java  # å¯åŠ¨ç±»
â”‚       â”œâ”€â”€ config/IgnoreWhiteProperties.java    # å¿½ç•¥ç™½åå•é…ç½®
â”‚       â”œâ”€â”€ filter/AuthFilter.java               # è®¤è¯è¿‡æ»¤å™¨
â”‚       â””â”€â”€ handler/GatewayExceptionHandler.java # ç½‘å…³å±‚å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â”‚
â”œâ”€â”€ zmbdp-common                     # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ zmbdp-common-cache           # ç¼“å­˜ç›¸å…³
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/cache
â”‚   â”‚       â”œâ”€â”€ config/CaffeineConfig.java       # Caffeineç¼“å­˜é…ç½®
â”‚   â”‚       â””â”€â”€ utils/CacheUtil.java             # ç¼“å­˜å·¥å…·ç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-core            # æ ¸å¿ƒå·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/core
â”‚   â”‚       â”œâ”€â”€ annotation/
â”‚   â”‚       â”‚   â””â”€â”€ excel/
â”‚   â”‚       â”‚       â””â”€â”€ CellMerge.java           # Excelå•å…ƒæ ¼åˆå¹¶æ³¨è§£
â”‚   â”‚       â”œâ”€â”€ config/
â”‚   â”‚       â”‚   â”œâ”€â”€ MailConfig.java              # é‚®ä»¶é…ç½®
â”‚   â”‚       â”‚   â”œâ”€â”€ MybatisPlusConfig.java       # MyBatis-Plusé…ç½®
â”‚   â”‚       â”‚   â”œâ”€â”€ RestTemplateConfig.java      # RestTemplateé…ç½®
â”‚   â”‚       â”‚   â””â”€â”€ ThreadPoolConfig.java        # çº¿ç¨‹æ± é…ç½®
â”‚   â”‚       â”œâ”€â”€ domain/
â”‚   â”‚       â”‚   â”œâ”€â”€ dto/BasePageDTO.java         # åˆ†é¡µDTOåŸºç±»
â”‚   â”‚       â”‚   â””â”€â”€ entity/BaseDO.java           # å®ä½“åŸºç±»
â”‚   â”‚       â”œâ”€â”€ enums/
â”‚   â”‚       â”‚   â””â”€â”€ RejectType.java              # æ‹’ç»ç±»å‹æšä¸¾
â”‚   â”‚       â”œâ”€â”€ excel/
â”‚   â”‚       â”‚   â”œâ”€â”€ CellMergeStrategy.java       # Excelå•å…ƒæ ¼åˆå¹¶ç­–ç•¥
â”‚   â”‚       â”‚   â”œâ”€â”€ DefaultExcelListener.java    # Excelé»˜è®¤å¯¼å…¥ç›‘å¬å™¨
â”‚   â”‚       â”‚   â”œâ”€â”€ DefaultExcelResult.java      # Excelé»˜è®¤å¯¼å…¥ç»“æœ
â”‚   â”‚       â”‚   â”œâ”€â”€ ExcelBigNumberConverter.java # Excelå¤§æ•°å€¼è½¬æ¢å™¨
â”‚   â”‚       â”‚   â”œâ”€â”€ ExcelListener.java           # Excelå¯¼å…¥ç›‘å¬å™¨æ¥å£
â”‚   â”‚       â”‚   â””â”€â”€ ExcelResult.java             # Excelå¯¼å…¥ç»“æœæ¥å£
â”‚   â”‚       â””â”€â”€ utils/
â”‚   â”‚           â”œâ”€â”€ AESUtil.java                 # AESåŠ å¯†å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ BeanCopyUtil.java            # Beanæ‹·è´å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ ExcelUtil.java               # Excelå·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ FileUtil.java                # æ–‡ä»¶å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ JsonUtil.java                # JSONå·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ MailUtil.java                # é‚®ä»¶å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ PageUtil.java                # åˆ†é¡µå·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ ServletUtil.java             # Servletå·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ StreamUtil.java              # æµå·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ StringUtil.java              # å­—ç¬¦ä¸²å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ ThreadUtil.java              # çº¿ç¨‹å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ TimestampUtil.java           # æ—¶é—´æˆ³å·¥å…·ç±»
â”‚   â”‚           â”œâ”€â”€ ValidatorUtil.java           # æ ¡éªŒå·¥å…·ç±»
â”‚   â”‚           â””â”€â”€ VerifyUtil.java              # éªŒè¯å·¥å…·ç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-domain          # å…¬å…±é¢†åŸŸå¯¹è±¡
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/domain
â”‚   â”‚       â”œâ”€â”€ constants/
â”‚   â”‚       â”‚   â”œâ”€â”€ CacheConstants.java          # ç¼“å­˜å¸¸é‡
â”‚   â”‚       â”‚   â”œâ”€â”€ CommonConstants.java         # é€šç”¨å¸¸é‡
â”‚   â”‚       â”‚   â”œâ”€â”€ HttpConstants.java           # HTTPå¸¸é‡
â”‚   â”‚       â”‚   â”œâ”€â”€ MessageConstants.java        # æ¶ˆæ¯å¸¸é‡
â”‚   â”‚       â”‚   â”œâ”€â”€ SecurityConstants.java       # å®‰å…¨å¸¸é‡
â”‚   â”‚       â”‚   â”œâ”€â”€ TokenConstants.java          # Tokenå¸¸é‡
â”‚   â”‚       â”‚   â””â”€â”€ UserConstants.java           # ç”¨æˆ·å¸¸é‡
â”‚   â”‚       â”œâ”€â”€ domain/
â”‚   â”‚       â”‚   â”œâ”€â”€ Result.java                  # ç»Ÿä¸€å“åº”ç»“æœ
â”‚   â”‚       â”‚   â”œâ”€â”€ ResultCode.java              # å“åº”ç æšä¸¾
â”‚   â”‚       â”‚   â”œâ”€â”€ dto/BasePageReqDTO.java      # åˆ†é¡µè¯·æ±‚DTO
â”‚   â”‚       â”‚   â””â”€â”€ vo/...                       # å„ç§VOå¯¹è±¡
â”‚   â”‚       â””â”€â”€ exception/
â”‚   â”‚           â””â”€â”€ ServiceException.java        # ä¸šåŠ¡å¼‚å¸¸
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-filter          # è¿‡æ»¤å™¨ç›¸å…³
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/bloomfilter
â”‚   â”‚       â”œâ”€â”€ config/BloomFilterConfig.java    # å¸ƒéš†è¿‡æ»¤å™¨é…ç½®
â”‚   â”‚       â””â”€â”€ service/
â”‚   â”‚           â”œâ”€â”€ BloomFilterService.java      # å¸ƒéš†è¿‡æ»¤å™¨æœåŠ¡æ¥å£
â”‚   â”‚           â””â”€â”€ impl/
â”‚   â”‚               â”œâ”€â”€ FastBloomFilterService.java  # å¿«é€Ÿç‰ˆï¼ˆä¸åŠ é”ï¼‰å¸ƒéš†è¿‡æ»¤å™¨å®ç°
â”‚   â”‚               â”œâ”€â”€ RedisBloomFilterService.java # Redisç‰ˆå¸ƒéš†è¿‡æ»¤å™¨å®ç°
â”‚   â”‚               â””â”€â”€ SafeBloomFilterService.java  # çº¿ç¨‹å®‰å…¨ï¼ˆåˆ†å¸ƒå¼é”ï¼‰ç‰ˆå¸ƒéš†è¿‡æ»¤å™¨å®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-message         # æ¶ˆæ¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/message
â”‚   â”‚       â”œâ”€â”€ config/
â”‚   â”‚       â”‚   â”œâ”€â”€ AliSmsConfig.java            # é˜¿é‡Œäº‘çŸ­ä¿¡é…ç½®
â”‚   â”‚       â”‚   â””â”€â”€ MailCodeProperties.java      # é‚®ä»¶éªŒè¯ç é…ç½®å±æ€§
â”‚   â”‚       â””â”€â”€ service/
â”‚   â”‚           â”œâ”€â”€ CaptchaService.java          # éªŒè¯ç æœåŠ¡
â”‚   â”‚           â”œâ”€â”€ CaptchaSenderFactory.java    # éªŒè¯ç å‘é€å™¨å·¥å‚ï¼ˆæ ¹æ®æ ¼å¼è‡ªåŠ¨é€‰æ‹©ï¼‰
â”‚   â”‚           â”œâ”€â”€ ICaptchaSender.java          # éªŒè¯ç å‘é€æ¥å£
â”‚   â”‚           â””â”€â”€ impl/
â”‚   â”‚               â”œâ”€â”€ AliSmsServiceImpl.java   # é˜¿é‡Œäº‘çŸ­ä¿¡å‘é€å®ç°
â”‚   â”‚               â””â”€â”€ MailCodeServiceImpl.java # é‚®ä»¶éªŒè¯ç å‘é€å®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-rabbitmq        # RabbitMQç›¸å…³
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/rabbitmq
â”‚   â”‚       â””â”€â”€ config/RabbitMqCommonConfig.java # RabbitMQé€šç”¨é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-redis           # Redisç›¸å…³
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/redis
â”‚   â”‚       â”œâ”€â”€ config/
â”‚   â”‚       â”‚   â””â”€â”€ RedisConfig.java             # Redisé…ç½®
â”‚   â”‚       â””â”€â”€ service/
â”‚   â”‚           â”œâ”€â”€ RedisService.java            # RedisæœåŠ¡
â”‚   â”‚           â””â”€â”€ RedissonLockService.java     # Redissonåˆ†å¸ƒå¼é”æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-security        # å®‰å…¨ç›¸å…³
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/security
â”‚   â”‚       â”œâ”€â”€ domain/dto/
â”‚   â”‚       â”‚   â”œâ”€â”€ LoginUserDTO.java            # ç™»å½•ç”¨æˆ·DTO
â”‚   â”‚       â”‚   â””â”€â”€ TokenDTO.java                # Token DTO
â”‚   â”‚       â”œâ”€â”€ handler/
â”‚   â”‚       â”‚   â””â”€â”€ GlobalExceptionHandler.java  # æœåŠ¡å±‚å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â”‚   â”‚       â”œâ”€â”€ service/
â”‚   â”‚       â”‚   â””â”€â”€ TokenService.java            # TokenæœåŠ¡
â”‚   â”‚       â””â”€â”€ utils/
â”‚   â”‚           â”œâ”€â”€ JwtUtil.java                 # JWTå·¥å…·ç±»
â”‚   â”‚           â””â”€â”€ SecurityUtil.java            # å®‰å…¨å·¥å…·ç±»
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-snowflake        # é›ªèŠ±ç®—æ³•æœåŠ¡
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/snowflake
â”‚   â”‚       â””â”€â”€ service/SnowflakeIdService.java         # é›ªèŠ±ç®—æ³•æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ zmbdp-common-idempotent       # å¹‚ç­‰æ€§æ§åˆ¶
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/common/idempotent
â”‚   â”‚       â”œâ”€â”€ annotation/
â”‚   â”‚       â”‚   â””â”€â”€ Idempotent.java                    # å¹‚ç­‰æ€§æ³¨è§£
â”‚   â”‚       â”œâ”€â”€ aspect/
â”‚   â”‚       â”‚   â””â”€â”€ IdempotentAspect.java              # å¹‚ç­‰æ€§åˆ‡é¢
â”‚   â”‚       â””â”€â”€ enums/
â”‚   â”‚           â””â”€â”€ IdempotentMode.java                # å¹‚ç­‰æ€§æ¨¡å¼æšä¸¾
â”‚   â”‚
â”œâ”€â”€ zmbdp-admin                      # ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ zmbdp-admin-api              # APIæ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/admin/api
â”‚   â”‚       â”œâ”€â”€ appuser/             # Cç«¯ç”¨æˆ·API
â”‚   â”‚       â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆDTOã€VOï¼‰
â”‚   â”‚       â”‚   â””â”€â”€ feign/           # Feignæ¥å£
â”‚   â”‚       â”œâ”€â”€ config/              # å­—å…¸ç®¡ç†æœåŠ¡API
â”‚   â”‚       â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆå‚æ•°é…ç½®ã€å­—å…¸é…ç½®ç­‰ï¼‰
â”‚   â”‚       â”‚   â””â”€â”€ feign/           # Feignæ¥å£
â”‚   â”‚       â””â”€â”€ map/                 # åœ°å›¾æœåŠ¡API
â”‚   â”‚           â”œâ”€â”€ constants/       # åœ°å›¾å¸¸é‡
â”‚   â”‚           â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆåœ°åŒºã€ä½ç½®æœç´¢ç­‰ï¼‰
â”‚   â”‚           â””â”€â”€ feign/           # Feignæ¥å£
â”‚   â”‚
â”‚   â””â”€â”€ zmbdp-admin-service          # ä¸šåŠ¡å®ç°
â”‚       â””â”€â”€ src/main/java/com/zmbdp/admin/service
â”‚           â”œâ”€â”€ config/              # å­—å…¸ç®¡ç†æœåŠ¡
â”‚           â”‚   â”œâ”€â”€ comtroller/      # å­—å…¸ç®¡ç†æ§åˆ¶å™¨
â”‚           â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆå®ä½“ã€DTOï¼‰
â”‚           â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper
â”‚           â”‚   â””â”€â”€ service/         # ä¸šåŠ¡æœåŠ¡å®ç°
â”‚           â”œâ”€â”€ map/                 # åœ°å›¾æœåŠ¡
â”‚           â”‚   â”œâ”€â”€ controller/      # åœ°å›¾æœåŠ¡æ§åˆ¶å™¨
â”‚           â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆå®ä½“ã€DTOï¼‰
â”‚           â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper
â”‚           â”‚   â””â”€â”€ service/         # ä¸šåŠ¡æœåŠ¡å®ç°
â”‚           â”œâ”€â”€ timedtask/           # å®šæ—¶ä»»åŠ¡
â”‚           â”‚   â””â”€â”€ bloom/           # å¸ƒéš†è¿‡æ»¤å™¨å®šæ—¶åˆ·æ–°ä»»åŠ¡
â”‚           â”œâ”€â”€ user/                # ç”¨æˆ·ç®¡ç†æœåŠ¡
â”‚           â”‚   â”œâ”€â”€ config/          # ç”¨æˆ·æœåŠ¡é…ç½®ï¼ˆRabbitMQäº¤æ¢æœºç­‰ï¼‰
â”‚           â”‚   â”œâ”€â”€ controller/      # ç”¨æˆ·ç®¡ç†æ§åˆ¶å™¨ï¼ˆBç«¯ã€Cç«¯ç”¨æˆ·ï¼‰
â”‚           â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆå®ä½“ã€DTOã€VOï¼‰
â”‚           â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper
â”‚           â”‚   â””â”€â”€ service/         # ä¸šåŠ¡æœåŠ¡å®ç°
â”‚           â””â”€â”€ ZmbdpAdminServiceApplication.java  # å¯åŠ¨ç±»
â”‚
â”œâ”€â”€ zmbdp-file                       # æ–‡ä»¶æœåŠ¡
â”‚   â”œâ”€â”€ zmbdp-file-api               # APIæ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/file/api
â”‚   â”‚       â”œâ”€â”€ domain/              # é¢†åŸŸå¯¹è±¡ï¼ˆDTOã€VOï¼‰
â”‚   â”‚       â””â”€â”€ feign/               # Feignæ¥å£
â”‚   â”‚
â”‚   â””â”€â”€ zmbdp-file-service           # ä¸šåŠ¡å®ç°
â”‚       â””â”€â”€ src/main/java/com/zmbdp/file/service
â”‚           â”œâ”€â”€ config/              # OSSé…ç½®
â”‚           â”œâ”€â”€ constants/           # å¸¸é‡å®šä¹‰
â”‚           â”œâ”€â”€ controller/          # æ–‡ä»¶æœåŠ¡æ§åˆ¶å™¨
â”‚           â”œâ”€â”€ service/             # ä¸šåŠ¡æœåŠ¡å®ç°
â”‚           â””â”€â”€ ZmbdpFileServiceApplication.java  # å¯åŠ¨ç±»
â”‚
â”œâ”€â”€ zmbdp-portal                     # é—¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ zmbdp-portal-api             # APIæ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ src/main/java/com/zmbdp/portal/api
â”‚   â”‚
â”‚   â””â”€â”€ zmbdp-portal-service         # ä¸šåŠ¡å®ç°
â”‚       â””â”€â”€ src/main/java/com/zmbdp/portal/service
â”‚           â”œâ”€â”€ user/                # Cç«¯ç”¨æˆ·æœåŠ¡
â”‚           â”‚   â”œâ”€â”€ controller/      # ç”¨æˆ·æœåŠ¡æ§åˆ¶å™¨
â”‚           â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸå¯¹è±¡ï¼ˆDTOã€VOï¼‰
â”‚           â”‚   â”œâ”€â”€ service/         # ä¸šåŠ¡æœåŠ¡å®ç°
â”‚           â”‚   â””â”€â”€ validator/       # è´¦å·æ ¡éªŒç­–ç•¥
â”‚           â”‚       â”œâ”€â”€ AccountValidator.java         # è´¦å·æ ¡éªŒæ¥å£
â”‚           â”‚       â”œâ”€â”€ AccountValidatorFactory.java  # è´¦å·æ ¡éªŒå·¥å‚ï¼ˆæ ¹æ®æ ¼å¼è‡ªåŠ¨é€‰æ‹©ï¼‰
â”‚           â”‚       â”œâ”€â”€ PhoneValidator.java           # æ‰‹æœºå·æ ¡éªŒç­–ç•¥
â”‚           â”‚       â””â”€â”€ EmailValidator.java           # é‚®ç®±æ ¡éªŒç­–ç•¥
â”‚           â””â”€â”€ ZmbdpPortalServiceApplication.java  # å¯åŠ¨ç±»
â”‚
â””â”€â”€ zmbdp-mstemplate                 # å¾®æœåŠ¡æ¨¡æ¿ï¼ˆæ¨¡æ¿ç¤ºä¾‹ï¼Œç”¨äºå¼€å‘é£æ ¼å‚è€ƒï¼‰
</pre>

## ğŸŒ éƒ¨ç½²ç¯å¢ƒ

é¡¹ç›®æ”¯æŒå¤šç§éƒ¨ç½²ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒéƒ½åŒ…å«å®Œæ•´çš„Docker Composeé…ç½®å’Œç›¸å…³ä¸­é—´ä»¶é…ç½®ï¼š

| ç¯å¢ƒ | ç›®å½• | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| å¼€å‘ç¯å¢ƒ | `deploy/dev/` | æœ¬åœ°å¼€å‘å’Œæµ‹è¯• | é€‚åˆå¼€å‘äººå‘˜æœ¬åœ°è°ƒè¯• |
| æµ‹è¯•ç¯å¢ƒ | `deploy/test/` | é›†æˆæµ‹è¯•å’Œé¢„å‘å¸ƒ | ç”¨äºåŠŸèƒ½æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯• |
| ç”Ÿäº§ç¯å¢ƒ | `deploy/prd/` | ç”Ÿäº§éƒ¨ç½² | ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼Œéœ€è°¨æ…ä½¿ç”¨ |

> ğŸ’¡ **æç¤º**ï¼šä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ç›¸äº’ç‹¬ç«‹ï¼Œå¯æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´é…ç½®å‚æ•°ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒå·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|---------|------|
| JDK | 17+ | Javaå¼€å‘å·¥å…·åŒ… |
| Maven | 3.6+ | é¡¹ç›®æ„å»ºå·¥å…· |
| Docker | 20.10+ | å®¹å™¨åŒ–éƒ¨ç½² |
| Docker Compose | 2.0+ | å®¹å™¨ç¼–æ’å·¥å…· |

### ä¸€é”®éƒ¨ç½²

1. å…‹éš†é¡¹ç›®<p>
```bash
git clone https://github.com/zmbdp/frameworkjava.git
cd frameworkjava
```
2. å¯åŠ¨åŸºç¡€æœåŠ¡<p>
```bash
# å¼€å‘ç¯å¢ƒ
cd deploy/dev/app
docker-compose -p frameworkjava -f docker-compose-mid.yml up -d
# æµ‹è¯•ç¯å¢ƒ
cd deploy/test/app
docker-compose -p frameworkjava -f docker-compose-mid.yml up -d
# ç”Ÿäº§ç¯å¢ƒ
cd deploy/prd/app
docker-compose -p frameworkjava -f docker-compose-mid.yml up -d
```
3. ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦2-3åˆ†é’Ÿï¼‰ï¼Œæ£€æŸ¥æœåŠ¡çŠ¶æ€<p>
```bash
docker-compose -p frameworkjava -f docker-compose-mid.yml ps
```
4. æ„å»ºå¹¶å¯åŠ¨åº”ç”¨æœåŠ¡<p>
```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ../../../
mvn clean install -DskipTests
# å¯åŠ¨å„æœåŠ¡æ¨¡å—...
# å¯åŠ¨ç½‘å…³æœåŠ¡
cd zmbdp-gateway/zmbdp-gateway-service
mvn spring-boot:run
# å¯åŠ¨ç®¡ç†æœåŠ¡
cd ../../zmbdp-admin/zmbdp-admin-service
mvn spring-boot:run
# å¯åŠ¨å…¶ä»–æœåŠ¡...
```


### è®¿é—®åœ°å€

æœåŠ¡å¯åŠ¨æˆåŠŸåï¼Œå¯é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

| æœåŠ¡ | åœ°å€ | ç”¨æˆ·å/å¯†ç                                 | è¯´æ˜ |
|------|------|---------------------------------------|------|
| Nacosæ§åˆ¶å° | http://localhost:8848/nacos | nacos / Hf@173503494                  | é…ç½®ä¸­å¿ƒå’ŒæœåŠ¡å‘ç° |
| RabbitMQç®¡ç†ç•Œé¢ | http://localhost:15672 | zmbdp / Hf@173503494                  | æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç† |
| Redis | localhost:6379 | - / Hf@173503494 | ç¼“å­˜æœåŠ¡ |
| MySQL | localhost:3306 | root / Hf@173503494 <br/> zmbdpdev / Hf@173503494 | æ•°æ®åº“æœåŠ¡ |

> ğŸ’¡ **æç¤º**ï¼šé¦–æ¬¡å¯åŠ¨éœ€è¦ç­‰å¾…2-3åˆ†é’Ÿï¼Œç¡®ä¿æ‰€æœ‰ä¸­é—´ä»¶æœåŠ¡å®Œå…¨å¯åŠ¨åå†è®¿é—®ã€‚

## â­ æ ¸å¿ƒäº®ç‚¹è¯¦è§£

æœ¬ç« èŠ‚è¯¦ç»†ä»‹ç»é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½å’ŒæŠ€æœ¯äº®ç‚¹ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨æ¡†æ¶ã€‚

### 1. ä¸‰çº§ç¼“å­˜æ¶æ„

é¡¹ç›®å®ç°äº†å¸ƒéš†è¿‡æ»¤å™¨ + Caffeine + Redisçš„ä¸‰çº§ç¼“å­˜æ¶æ„ï¼Œæœ‰æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½å’Œå¯ç”¨æ€§ã€‚é€šè¿‡å¸ƒéš†è¿‡æ»¤å™¨é˜²æ­¢ç¼“å­˜ç©¿é€ï¼ŒCaffeineæœ¬åœ°ç¼“å­˜æä¾›æ¯«ç§’çº§è®¿é—®é€Ÿåº¦ï¼ŒRedisåˆ†å¸ƒå¼ç¼“å­˜ä¿è¯å¤šå®ä¾‹é—´æ•°æ®ä¸€è‡´æ€§ã€‚æ”¯æŒå¤æ‚æ³›å‹ç±»å‹ç¼“å­˜ï¼ŒCacheUtilå·¥å…·ç±»å°è£…å®Œæ•´æ“ä½œæµç¨‹ï¼Œä½¿ç”¨ç®€å•ã€‚

> ğŸ“– **è¯¦ç»†ä½¿ç”¨è¯´æ˜**ï¼šè¯·å‚è€ƒ [å¼€å‘æŒ‡å— - æ‰©å±•ç¼“å­˜åŠŸèƒ½](#æ‰©å±•ç¼“å­˜åŠŸèƒ½)

### 2. Redis å¤æ‚æ•°æ®ç»“æ„æ“ä½œ

RedisService æä¾›äº†å¯¹ Redis å„ç§æ•°æ®ç»“æ„çš„å¢å¼ºæ“ä½œæ”¯æŒï¼ŒåŒ…æ‹¬ Stringã€Listã€Setã€ZSetã€Hash ç­‰ç±»å‹ï¼Œæ‰€æœ‰æ“ä½œå‡æ”¯æŒå¤æ‚æ³›å‹åµŒå¥—ç»“æ„ï¼Œå¦‚ `Map<String, List<Set<T>>>` ç­‰ã€‚

### 3. å®‰å…¨è®¤è¯æœºåˆ¶

é‡‡ç”¨JWTæ— çŠ¶æ€è®¤è¯ï¼Œç»“åˆRediså®ç°çµæ´»çš„çŠ¶æ€ç®¡ç†ã€‚æ”¯æŒç½‘å…³å±‚ç»Ÿä¸€é‰´æƒã€ç”¨æˆ·ä¿¡æ¯åŠ å¯†å­˜å‚¨ã€Bç«¯/Cç«¯ç”¨æˆ·åˆ†ç¦»è®¤è¯ã€ç™½åå•é…ç½®ã€Tokenåˆ·æ–°æ³¨é”€ç­‰åŠŸèƒ½ã€‚

### 4. å¾®æœåŠ¡æ²»ç†

å®Œæ•´çš„å¾®æœåŠ¡æ²»ç†æ–¹æ¡ˆï¼ŒåŸºäºNacoså®ç°é…ç½®ä¸­å¿ƒå’ŒæœåŠ¡å‘ç°ï¼Œç»Ÿä¸€ç½‘å…³è·¯ç”±å’Œé™æµä¿æŠ¤ï¼ŒåŸºäºFeignå®ç°å£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†å’Œå“åº”æ ¼å¼ã€‚

### 5. å®Œå–„çš„å·¥å…·ç±»åº“

æä¾›ä¸°å¯Œçš„å·¥å…·ç±»åº“ï¼ŒåŒ…æ‹¬ BeanCopyUtilï¼ˆå¤æ‚å¯¹è±¡æ‹·è´ï¼‰ã€JsonUtilï¼ˆJSONå¤„ç†ï¼‰ã€CacheUtilï¼ˆä¸‰çº§ç¼“å­˜ï¼‰ã€JwtUtilï¼ˆJWTå¤„ç†ï¼‰ã€ExcelUtilï¼ˆExcelå¯¼å…¥å¯¼å‡ºï¼‰ã€MailUtilï¼ˆé‚®ä»¶å‘é€ï¼‰ã€StreamUtilï¼ˆæµæ“ä½œï¼‰ã€ValidatorUtilï¼ˆæ•°æ®æ ¡éªŒï¼‰ã€ThreadUtilï¼ˆçº¿ç¨‹ç®¡ç†ï¼‰ã€FileUtilï¼ˆæ–‡ä»¶å¤„ç†ï¼‰ç­‰ã€‚

### 6. å¢å¼ºå‹å¸ƒéš†è¿‡æ»¤å™¨

å¤šå®ç°ç‰ˆæœ¬æ”¯æŒï¼ˆå®‰å…¨ç‰ˆã€å¿«é€Ÿç‰ˆå’ŒRedisç‰ˆï¼‰ï¼Œçº¿ç¨‹å®‰å…¨å®ç°ï¼Œæ”¯æŒç²¾ç¡®è®¡æ•°å’Œè¿‘ä¼¼è®¡æ•°åŒé‡ç»Ÿè®¡ï¼Œè´Ÿè½½ç‡å’Œè¯¯åˆ¤ç‡å®æ—¶ç›‘æ§ï¼Œé…ç½®åŒ–ç®¡ç†ï¼Œå®šæ—¶ä»»åŠ¡è‡ªåŠ¨ç»´æŠ¤ã€‚

### 7. æ™ºèƒ½éªŒè¯ç ç³»ç»Ÿ

æ ¹æ®ç”¨æˆ·è¾“å…¥ï¼ˆæ‰‹æœºå·/é‚®ç®±ï¼‰è‡ªåŠ¨é€‰æ‹©å‘é€æ–¹å¼ï¼Œé‡‡ç”¨ç­–ç•¥æ¨¡å¼è®¾è®¡ä¾¿äºæ‰©å±•ã€‚æ”¯æŒçŸ­ä¿¡éªŒè¯ç ï¼ˆé˜¿é‡Œäº‘ï¼‰å’Œé‚®ä»¶éªŒè¯ç åŒé€šé“ï¼Œé‚®ä»¶æ ‡é¢˜å’Œå†…å®¹æ¨¡æ¿æ”¯æŒåŠ¨æ€é…ç½®ï¼Œæä¾›ç»Ÿä¸€çš„éªŒè¯ç å‘é€æ¥å£ã€‚

### 9. ä¸šåŠ¡æ¨¡å—

é¡¹ç›®é¢„ç½®äº†å®Œæ•´çš„ä¸šåŠ¡æ¨¡å—ï¼Œå¼€ç®±å³ç”¨ï¼š
- **ç”¨æˆ·ç®¡ç†**ï¼šBç«¯/Cç«¯ç”¨æˆ·ç®¡ç†ï¼Œæ”¯æŒå¾®ä¿¡ã€æ‰‹æœºå·ã€é‚®ç®±ç™»å½•
- **é…ç½®ç®¡ç†**ï¼šå‚æ•°é…ç½®ç®¡ç†ï¼Œæ”¯æŒé”®å€¼æŸ¥è¯¢å’Œæ‰¹é‡æŸ¥è¯¢
- **åœ°å›¾æœåŠ¡**ï¼šåŸå¸‚åˆ—è¡¨ã€åœ°ç‚¹æœç´¢ã€ç»çº¬åº¦å®šä½ç­‰åŠŸèƒ½
- **æ–‡ä»¶æœåŠ¡**ï¼šæ–‡ä»¶ä¸Šä¼ ã€OSSç­¾åè·å–ç­‰åŠŸèƒ½
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQé›†æˆï¼Œæä¾›ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ç¤ºä¾‹
- **å®šæ—¶ä»»åŠ¡**ï¼šæ”¯æŒå®šæ—¶ä»»åŠ¡æ‰§è¡Œï¼Œå¦‚å¸ƒéš†è¿‡æ»¤å™¨è‡ªåŠ¨åˆ·æ–°
- **å¼‚å¸¸å¤„ç†**ï¼šç»Ÿä¸€å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä¸šåŠ¡å¼‚å¸¸å°è£…ï¼Œå®Œå–„çš„é”™è¯¯ç ä½“ç³»

### 10. Excelå¯¼å…¥å¯¼å‡ºåŠŸèƒ½

åŸºäºEasyExcelå®ç°ï¼Œæ”¯æŒå¤§æ•°å€¼å¤„ç†ã€å•å…ƒæ ¼åˆå¹¶ã€æ•°æ®æ ¡éªŒç­‰åŠŸèƒ½ï¼Œæä¾›å®Œæ•´çš„å¯¼å…¥ç»“æœåé¦ˆæœºåˆ¶ã€‚

> ğŸ“– **è¯¦ç»†ä½¿ç”¨è¯´æ˜**ï¼šè¯·å‚è€ƒ [å¼€å‘æŒ‡å— - Excelå¯¼å…¥å¯¼å‡º](#excelå¯¼å…¥å¯¼å‡º)

### 11. é‚®ä»¶å‘é€åŠŸèƒ½

åŸºäºHutool Mail + Jakarta Mailå®ç°ï¼Œæ”¯æŒæ–‡æœ¬/HTMLæ ¼å¼ã€æŠ„é€ï¼ˆCCï¼‰ã€å¯†é€ï¼ˆBCCï¼‰ã€é™„ä»¶å’Œå†…åµŒå›¾ç‰‡ï¼ˆcidæ–¹å¼ï¼‰ï¼Œæ”¯æŒè‡ªå®šä¹‰MailAccountæˆ–ä½¿ç”¨å…¨å±€é…ç½®ï¼Œçº¿ç¨‹å®‰å…¨çš„é‚®ä»¶è´¦å·é…ç½®ã€‚

### 12. åˆ†å¸ƒå¼å¹‚ç­‰æ€§æ§åˆ¶

é¡¹ç›®æä¾›äº†å®Œæ•´çš„å¹‚ç­‰æ€§è§£å†³æ–¹æ¡ˆï¼ŒåŸºäºAOPå®ç°ï¼Œæ”¯æŒHTTPè¯·æ±‚å’ŒMQæ¶ˆæ¯ä¸¤ç§åœºæ™¯ã€‚æ”¯æŒé˜²é‡æ¨¡å¼å’Œå¼ºå¹‚ç­‰æ¨¡å¼ï¼Œä¸‰æ€è®¾è®¡çµæ´»é…ç½®ï¼Œå¤šç§Tokenè·å–æ–¹å¼ï¼Œä¸šåŠ¡å¤±è´¥è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ä½¿ç”¨åŸå­æ“ä½œå’Œé€€é¿ç­–ç•¥ç¡®ä¿ç¨³å®šæ€§ã€‚

> ğŸ“– **è¯¦ç»†ä½¿ç”¨è¯´æ˜**ï¼šè¯·å‚è€ƒ [å¼€å‘æŒ‡å— - å¹‚ç­‰æ€§æ§åˆ¶](#å¹‚ç­‰æ€§æ§åˆ¶) å’Œ [å¸¸è§é—®é¢˜ - å¹‚ç­‰æ€§ç›¸å…³](#-å¸¸è§é—®é¢˜)

### 13. æ–‡æ¡£å’Œéƒ¨ç½²

- **APIæ–‡æ¡£**: [https://zmbdpframeworkjava.apifox.cn](https://zmbdpframeworkjava.apifox.cn) (è®¿é—®å¯†ç : zmbdp@123.com)
- **ä½¿ç”¨æ‰‹å†Œ**: [https://gcnrxp4nkh9d.feishu.cn/docx/GVUPdzmLJoWhMNxygsQc1F3Enyd?from=from_copylink](https://gcnrxp4nkh9d.feishu.cn/docx/GVUPdzmLJoWhMNxygsQc1F3Enyd?from=from_copylink)
- **SDKæ–‡æ¡£**: é¡¹ç›®æä¾›å®Œæ•´çš„JavaDocæ–‡æ¡£ï¼Œä½äº`javapro/javadoc`ç›®å½•
- **å®¹å™¨åŒ–éƒ¨ç½²**: Docker Composeéƒ¨ç½²æ–¹æ¡ˆï¼Œå®Œæ•´çš„ä¸­é—´ä»¶æ”¯æŒ


## âš™ï¸ é…ç½®è¯´æ˜

é¡¹ç›®é‡‡ç”¨Nacosä½œä¸ºé…ç½®ä¸­å¿ƒï¼Œæ‰€æœ‰é…ç½®é¡¹å‡æ”¯æŒåŠ¨æ€åˆ·æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡å³å¯ç”Ÿæ•ˆã€‚

### é…ç½®åˆ†ç±»

#### æœåŠ¡é…ç½®

| é…ç½®æ–‡ä»¶ | è¯´æ˜              |
|---------|-----------------|
| `zmbdp-mstemplate-service-dev.yaml` | æ¨¡æ¿å¾®æœåŠ¡ï¼ˆç”¨äºå‚è€ƒä»£ç é£æ ¼ï¼‰ |
| `zmbdp-gateway-service-dev.yaml` | ç½‘å…³æœåŠ¡é…ç½®          |

#### å…¬å…±ç»„ä»¶é…ç½®

| é…ç½®æ–‡ä»¶ | è¯´æ˜ |
|---------|------|
| `share-redis-dev.yaml` | Rediså…¬å…±é…ç½®ï¼ˆè¿æ¥ä¿¡æ¯ã€åºåˆ—åŒ–æ–¹å¼ç­‰ï¼‰ |
| `share-caffeine-dev.yaml` | æœ¬åœ°ç¼“å­˜å…¬å…±é…ç½®ï¼ˆç¼“å­˜å¤§å°ã€è¿‡æœŸæ—¶é—´ç­‰ï¼‰ |
| `share-rabbitmq-dev.yaml` | RabbitMQå…¬å…±é…ç½®ï¼ˆè¿æ¥ä¿¡æ¯ã€äº¤æ¢æœºç­‰ï¼‰ |
| `share-mysql-dev.yaml` | MySQLå…¬å…±é…ç½®ï¼ˆæ•°æ®æºé…ç½®ã€HikariCPè¿æ¥æ± ä¼˜åŒ–é…ç½®ç­‰ï¼‰ |
| `share-map-dev.yaml` | åœ°å›¾æœåŠ¡å…¬å…±é…ç½® |
| `share-token-dev.yaml` | Tokenå…¬å…±é…ç½®ï¼ˆJWTå¯†é’¥ã€è¿‡æœŸæ—¶é—´ç­‰ï¼‰ |
| `share-captcha-dev.yaml` | éªŒè¯ç æœåŠ¡å…¬å…±é…ç½®ï¼ˆåŒ…å«é‚®ä»¶éªŒè¯ç æ ‡é¢˜å’Œå†…å®¹æ¨¡æ¿é…ç½®ï¼‰ |
| `share-filter-dev.yaml` | å¸ƒéš†è¿‡æ»¤å™¨å…¬å…±é…ç½®ï¼ˆå®¹é‡ã€è¯¯åˆ¤ç‡ç­‰ï¼‰ |
| `share-thread-dev.yaml` | çº¿ç¨‹æ± å…¬å…±é…ç½®ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ç­‰ï¼‰ |
| `share-mail-dev.yaml` | é‚®ä»¶æœåŠ¡å…¬å…±é…ç½®ï¼ˆSMTPé…ç½®ç­‰ï¼‰ |
| `share-idempotent-dev.yaml` | å¹‚ç­‰æ€§å…¬å…±é…ç½®ï¼ˆTokenè¿‡æœŸæ—¶é—´ã€å¼ºå¹‚ç­‰æ¨¡å¼å¼€å…³ã€é‡è¯•æ¬¡æ•°ç­‰ï¼‰ |

#### ä¸šåŠ¡æœåŠ¡é…ç½®

| é…ç½®æ–‡ä»¶ | è¯´æ˜ |
|---------|------|
| `zmbdp-file-service-dev.yaml` | æ–‡ä»¶æœåŠ¡é…ç½®ï¼ˆOSSé…ç½®ç­‰ï¼‰ |
| `zmbdp-admin-service-dev.yaml` | åŸºç¡€æœåŠ¡é…ç½® |
| `zmbdp-portal-service-dev.yaml` | Cç«¯ç”¨æˆ·æœåŠ¡é…ç½® |

> ğŸ’¡ **æç¤º**ï¼šæ‰€æœ‰é…ç½®å‡æ”¯æŒNacosåŠ¨æ€åˆ·æ–°ï¼Œä¿®æ”¹é…ç½®åæ— éœ€é‡å¯æœåŠ¡å³å¯ç”Ÿæ•ˆã€‚



## ğŸ“š å¼€å‘æŒ‡å—

æœ¬ç« èŠ‚æä¾›è¯¦ç»†çš„å¼€å‘æŒ‡å—å’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹é¡¹ç›®å¼€å‘ã€‚

### æ–°å¢ä¸šåŠ¡æ¨¡å—

åˆ›å»ºæ–°ä¸šåŠ¡æ¨¡å—çš„æ­¥éª¤ï¼š

1. **é€‰æ‹©æ¨¡æ¿**ï¼šåŸºäº`zmbdp-mstemplate`å¾®æœåŠ¡æ¨¡æ¿åˆ›å»ºæ–°æ¨¡å—
2. **æ¶æ„è®¾è®¡**ï¼šéµå¾ªController-Service-Mapperåˆ†å±‚æ¶æ„
3. **ç»Ÿä¸€è§„èŒƒ**ï¼šä½¿ç”¨ç»Ÿä¸€å“åº”æ ¼å¼å’Œå¼‚å¸¸å¤„ç†
4. **ç½‘å…³é›†æˆ**ï¼šå°†æ–°æ¨¡å—é›†æˆåˆ°ç½‘å…³è·¯ç”±é…ç½®
5. **é…ç½®ç®¡ç†**ï¼šåœ¨Nacosä¸­æ·»åŠ å¯¹åº”çš„é…ç½®æ–‡ä»¶

### æ‰©å±•ç¼“å­˜åŠŸèƒ½

ä½¿ç”¨ä¸‰çº§ç¼“å­˜æ¶æ„ï¼Œæœ‰æ•ˆé˜²æ­¢ç¼“å­˜ç©¿é€ã€‚ç¼“å­˜æµç¨‹ï¼šè¯·æ±‚ â†’ å¸ƒéš†è¿‡æ»¤å™¨(åˆ¤æ–­æ˜¯å¦å­˜åœ¨) â†’ Caffeineæœ¬åœ°ç¼“å­˜ â†’ Redisç¼“å­˜ â†’ æ•°æ®åº“ã€‚

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java 
// ä½¿ç”¨ CacheUtil å·¥å…·ç±»è·å–ç¼“å­˜
T result = CacheUtil.getL2Cache(
    redisService,           // RedisæœåŠ¡
    bloomFilterService,      // å¸ƒéš†è¿‡æ»¤å™¨æœåŠ¡
    key,                    // ç¼“å­˜é”®
    valueTypeRef,           // å€¼ç±»å‹å¼•ç”¨
    caffeineCache           // Caffeineæœ¬åœ°ç¼“å­˜
);
```

**æ¶æ„ä¼˜åŠ¿**ï¼š
- âœ… **å¸ƒéš†è¿‡æ»¤å™¨**ï¼šæœ‰æ•ˆé˜²æ­¢ç¼“å­˜ç©¿é€ï¼Œå‡å°‘æ— æ•ˆæŸ¥è¯¢
- âœ… **æœ¬åœ°ç¼“å­˜**ï¼šCaffeineæä¾›æ¯«ç§’çº§è®¿é—®é€Ÿåº¦ï¼Œå‡å°‘ç½‘ç»œå¼€é”€
- âœ… **åˆ†å¸ƒå¼ç¼“å­˜**ï¼šRedisä¿è¯å¤šå®ä¾‹é—´æ•°æ®ä¸€è‡´æ€§
- âœ… **ç±»å‹æ”¯æŒ**ï¼šæ”¯æŒå¤æ‚æ³›å‹ç±»å‹ç¼“å­˜ï¼Œå¦‚`Map<String, List<Set<T>>>`

### Excelå¯¼å…¥å¯¼å‡º

åŸºäºEasyExcelå®ç°ï¼Œæ”¯æŒå¤§æ•°å€¼å¤„ç†ï¼ˆè¶…è¿‡15ä½è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰ã€å•å…ƒæ ¼åˆå¹¶ï¼ˆåŸºäºæ³¨è§£è‡ªåŠ¨åˆå¹¶ç›¸åŒå€¼ï¼‰ã€æ•°æ®æ ¡éªŒï¼ˆåŸºäºJakarta Validationï¼‰ç­‰åŠŸèƒ½ã€‚

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
// å¯¼å‡ºExcel
ExcelUtil.exportExcel(
    response,              // HttpServletResponse
    "ç”¨æˆ·åˆ—è¡¨",            // æ–‡ä»¶å
    UserDTO.class,         // æ•°æ®ç±»
    userList,             // æ•°æ®åˆ—è¡¨
    true                  // æ˜¯å¦åˆå¹¶ç›¸åŒå€¼å•å…ƒæ ¼
);

// å¯¼å…¥Excel
DefaultExcelListener<UserDTO> listener = new DefaultExcelListener<>(true);
EasyExcel.read(inputStream, UserDTO.class, listener).sheet().doRead();
ExcelResult<UserDTO> result = listener.getExcelResult();
// å¤„ç†å¯¼å…¥ç»“æœ
if (result.isSuccess()) {
    List<UserDTO> data = result.getData();
    // ä¸šåŠ¡å¤„ç†...
}
```

### é‚®ä»¶å‘é€

æ”¯æŒæ–‡æœ¬ã€HTMLã€é™„ä»¶ã€å†…åµŒå›¾ç‰‡ç­‰å¤šç§é‚®ä»¶æ ¼å¼ï¼š

```java
// å‘é€HTMLé‚®ä»¶
MailUtil.sendHtml(
    "user@example.com",           // æ”¶ä»¶äºº
    "é‚®ä»¶æ ‡é¢˜",                    // ä¸»é¢˜
    "<h1>é‚®ä»¶å†…å®¹</h1>"            // HTMLå†…å®¹
);

// å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶
MailUtil.send(
    "user@example.com",            // æ”¶ä»¶äºº
    "æ ‡é¢˜",                        // ä¸»é¢˜
    "å†…å®¹",                        // æ­£æ–‡
    false,                         // æ˜¯å¦ä¸ºHTMLæ ¼å¼
    new File("é™„ä»¶.pdf")           // é™„ä»¶æ–‡ä»¶
);

// å‘é€å¸¦å†…åµŒå›¾ç‰‡çš„é‚®ä»¶
MailUtil.sendHtmlWithImage(
    "user@example.com",
    "æ ‡é¢˜",
    "<img src='cid:image1'>",     // ä½¿ç”¨cidå¼•ç”¨å›¾ç‰‡
    new File("image.jpg")
);
```

### å¹‚ç­‰æ€§æ§åˆ¶

åŸºäºAOPå®ç°çš„åˆ†å¸ƒå¼å¹‚ç­‰æ€§è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒHTTPå’ŒMQä¸¤ç§åœºæ™¯ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **é˜²é‡æ¨¡å¼**ï¼šé‡å¤è¯·æ±‚ç›´æ¥æŠ¥é”™ï¼Œé€‚ç”¨äºæ”¯ä»˜ã€ä¸‹å•ç­‰ä¸å…è®¸é‡å¤æ‰§è¡Œçš„åœºæ™¯
- **å¼ºå¹‚ç­‰æ¨¡å¼**ï¼šé‡å¤è¯·æ±‚è¿”å›ç¬¬ä¸€æ¬¡çš„ç»“æœï¼Œé€‚ç”¨äºéœ€è¦ä¿è¯å¤šæ¬¡è°ƒç”¨è¿”å›ç›¸åŒç»“æœçš„åœºæ™¯
- **ä¸‰æ€è®¾è®¡**ï¼šæ”¯æŒDEFAULTï¼ˆä½¿ç”¨å…¨å±€é…ç½®ï¼‰ã€TRUEï¼ˆå¼ºåˆ¶å¼€å¯ï¼‰ã€FALSEï¼ˆå¼ºåˆ¶å…³é—­ï¼‰ä¸‰ç§æ¨¡å¼
- **å¤šç§Tokenè·å–æ–¹å¼**ï¼šæ”¯æŒè¯·æ±‚å¤´ã€è¯·æ±‚å‚æ•°ã€SpELè¡¨è¾¾å¼ã€MQæ¶ˆæ¯å¤´ç­‰å¤šç§æ–¹å¼
- **ä¸šåŠ¡å¤±è´¥é‡è¯•**ï¼šæ–¹æ³•æ‰§è¡Œå¤±è´¥æ—¶è‡ªåŠ¨åˆ é™¤Tokenï¼Œå…è®¸é‡è¯•ï¼Œæ”¯æŒé‡è¯•æ¬¡æ•°è¿½è¸ª
- **é«˜å¹¶å‘ä¼˜åŒ–**ï¼šä½¿ç”¨Redis `INCR` åŸå­æ“ä½œç»Ÿè®¡é‡è¯•æ¬¡æ•°ï¼Œé¿å…å¹¶å‘ç«æ€é—®é¢˜ï¼›é‡‡ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥ï¼ˆ50ms â†’ 100ms â†’ 150msï¼Œæœ€å¤§300msï¼‰ï¼Œæœ‰æ•ˆé™ä½Rediså’ŒCPUå‹åŠ›

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
// 1. HTTPæ¥å£å¹‚ç­‰æ€§ï¼ˆé˜²é‡æ¨¡å¼ï¼‰- é€‚ç”¨äºæ”¯ä»˜ã€ä¸‹å•ç­‰åœºæ™¯
@PostMapping("/createOrder")
@Idempotent(
    headerName = "Idempotent-Token",  // Tokenæ¥æºï¼šè¯·æ±‚å¤´
    expireTime = 300,                 // è¿‡æœŸæ—¶é—´ï¼š300ç§’
    message = "è¯·å‹¿é‡å¤æäº¤"           // é‡å¤è¯·æ±‚æç¤ºä¿¡æ¯
)
public Result<String> createOrder() {
    // ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼šæ‰§è¡Œæ–¹æ³•
    // ç¬¬äºŒæ¬¡è¯·æ±‚ï¼šè¿”å›é”™è¯¯"è¯·å‹¿é‡å¤æäº¤"
    return Result.success("è®¢å•åˆ›å»ºæˆåŠŸ");
}

// 2. HTTPæ¥å£å¹‚ç­‰æ€§ï¼ˆå¼ºå¹‚ç­‰æ¨¡å¼ï¼‰- é€‚ç”¨äºæŸ¥è¯¢ç­‰åœºæ™¯
@GetMapping("/getOrderInfo")
@Idempotent(
    headerName = "Idempotent-Token",
    returnCachedResult = IdempotentMode.TRUE  // å¼€å¯å¼ºå¹‚ç­‰æ¨¡å¼
)
public Result<OrderInfo> getOrderInfo() {
    // ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼šæ‰§è¡Œæ–¹æ³•å¹¶ç¼“å­˜ç»“æœ
    // ç¬¬äºŒæ¬¡è¯·æ±‚ï¼šè¿”å›ç¬¬ä¸€æ¬¡çš„ç»“æœï¼Œä¸æ‰§è¡Œæ–¹æ³•
    return Result.success(orderInfo);
}

// 3. MQæ¶ˆè´¹è€…å¹‚ç­‰æ€§ï¼ˆSpELè¡¨è¾¾å¼æ–¹å¼ï¼‰
@RabbitListener(queues = "order.queue")
@Idempotent(tokenExpression = "#messageDTO.idempotentToken")
public void handleOrder(MessageDTO messageDTO) {
    // ç¬¬ä¸€æ¬¡æ¶ˆè´¹ï¼šå¤„ç†æ¶ˆæ¯
    // ç¬¬äºŒæ¬¡æ¶ˆè´¹ï¼šæ‹’ç»å¤„ç†ï¼ˆé˜²é‡æ¨¡å¼ï¼‰æˆ–è¿”å›ç¼“å­˜ç»“æœï¼ˆå¼ºå¹‚ç­‰æ¨¡å¼ï¼‰
}

// 4. MQæ¶ˆè´¹è€…å¹‚ç­‰æ€§ï¼ˆæ¶ˆæ¯å¤´æ–¹å¼ï¼‰
@RabbitListener(queues = "payment.queue")
@Idempotent(headerName = "Idempotent-Token")
public void handlePayment(MessageDTO messageDTO, Message message) {
    // ä»æ¶ˆæ¯å¤´è·å–Tokenè¿›è¡Œå¹‚ç­‰æ€§æ ¡éªŒ
}
```

**æœ€ä½³å®è·µ**ï¼š
- Tokenå»ºè®®ä½¿ç”¨UUIDæˆ–ä¸šåŠ¡å”¯ä¸€æ ‡è¯†
- æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„è¿‡æœŸæ—¶é—´ï¼ˆæ”¯ä»˜åœºæ™¯å»ºè®®30åˆ†é’Ÿï¼ŒæŸ¥è¯¢åœºæ™¯å»ºè®®5åˆ†é’Ÿï¼‰
- å¼ºå¹‚ç­‰æ¨¡å¼ä¼šç¼“å­˜ç»“æœï¼Œæ³¨æ„Rediså­˜å‚¨ç©ºé—´
- ä¸šåŠ¡å¤±è´¥æ—¶Tokenä¼šè‡ªåŠ¨åˆ é™¤ï¼Œå…è®¸é‡è¯•ï¼Œæœ€å¤šé‡è¯•3æ¬¡ï¼ˆNacosä¸Šå¯é…ç½®ï¼‰

**é…ç½®è¯´æ˜**ï¼š
- Tokenè·å–ä¼˜å…ˆçº§ï¼šSpELè¡¨è¾¾å¼ > HTTPè¯·æ±‚å¤´ > HTTPè¯·æ±‚å‚æ•° > RabbitMQæ¶ˆæ¯å¤´
- æ”¯æŒå…¨å±€é…ç½®å’Œæ³¨è§£é…ç½®ï¼Œæ³¨è§£é…ç½®ä¼˜å…ˆçº§æ›´é«˜
- æ”¯æŒNacosåŠ¨æ€åˆ·æ–°é…ç½®

### æ‰©å±•åŠŸèƒ½å¼€å‘

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒçµæ´»æ‰©å±•ï¼š

- **ä¸šåŠ¡æ¨¡å—æ‰©å±•**ï¼šåŸºäº`zmbdp-mstemplate`å¾®æœåŠ¡æ¨¡æ¿å¿«é€Ÿåˆ›å»ºæ–°ä¸šåŠ¡æ¨¡å—
- **ç¼“å­˜ç­–ç•¥æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰ç¼“å­˜è¿‡æœŸç­–ç•¥ã€å¤šçº§ç¼“å­˜é™çº§ç­–ç•¥
- **è®¤è¯æˆæƒæ‰©å±•**ï¼šå¯è‡ªå®šä¹‰æƒé™éªŒè¯è§„åˆ™ï¼Œæ‰©å±•ç¬¬ä¸‰æ–¹ç™»å½•é›†æˆ
- **æ¶ˆæ¯é˜Ÿåˆ—æ‰©å±•**ï¼šæ”¯æŒå¤šç§æ¶ˆæ¯æ¨¡å¼ã€æ­»ä¿¡é˜Ÿåˆ—ã€å»¶è¿Ÿæ¶ˆæ¯ç­‰
- **çº¿ç¨‹æ± æ‰©å±•**ï¼šæ”¯æŒæŒ‰ä¸šåŠ¡æ¨¡å—è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼ŒåŠ¨æ€å‚æ•°è°ƒæ•´
- **å·¥å…·ç±»æ‰©å±•**ï¼šæ‰€æœ‰å·¥å…·ç±»å‡æ”¯æŒæ‰©å±•å’Œè‡ªå®šä¹‰

> ğŸ“– **è¯¦ç»†æ‰©å±•æŒ‡å—**ï¼šè¯·å‚è€ƒé¡¹ç›®æºç å’ŒJavaDocæ–‡æ¡£


## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•é…ç½®å¹‚ç­‰æ€§Tokençš„è¿‡æœŸæ—¶é—´ï¼Ÿ

**A**: å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š
1. **æ³¨è§£é…ç½®**ï¼šåœ¨`@Idempotent`æ³¨è§£ä¸­è®¾ç½®`expireTime`å‚æ•°
2. **å…¨å±€é…ç½®**ï¼šåœ¨Nacosé…ç½®ä¸­å¿ƒçš„`share-idempotent-dev.yaml`ä¸­é…ç½®`idempotent.expire-time`
3. **ä¼˜å…ˆçº§**ï¼šæ³¨è§£é…ç½® > å…¨å±€é…ç½® > é»˜è®¤å€¼ï¼ˆ300ç§’ï¼‰

### Q2: é˜²é‡æ¨¡å¼å’Œå¼ºå¹‚ç­‰æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**: 
- **é˜²é‡æ¨¡å¼**ï¼šé‡å¤è¯·æ±‚ç›´æ¥è¿”å›é”™è¯¯ï¼Œé€‚ç”¨äºæ”¯ä»˜ã€ä¸‹å•ç­‰ä¸å…è®¸é‡å¤æ‰§è¡Œçš„åœºæ™¯
- **å¼ºå¹‚ç­‰æ¨¡å¼**ï¼šé‡å¤è¯·æ±‚è¿”å›ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„ç»“æœï¼Œé€‚ç”¨äºéœ€è¦ä¿è¯å¤šæ¬¡è°ƒç”¨è¿”å›ç›¸åŒç»“æœçš„åœºæ™¯

### Q3: ä¸šåŠ¡æ‰§è¡Œå¤±è´¥åï¼ŒTokenä¼šè¢«åˆ é™¤å—ï¼Ÿ

**A**: æ˜¯çš„ã€‚å½“æ–¹æ³•æ‰§è¡Œå¤±è´¥ï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰æ—¶ï¼ŒTokenä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼ŒçŠ¶æ€è®¾ç½®ä¸º`FAILED`ï¼Œå…è®¸é‡è¯•ã€‚æœ€å¤šæ”¯æŒé‡è¯•3æ¬¡ï¼ˆNacosä¸Šå¯é…ç½®ï¼‰ï¼Œé‡è¯•æ¬¡æ•°ä¼šæŒä¹…åŒ–åˆ°Redisä¸­ã€‚

### Q4: é‡è¯•æ¬¡æ•°å¦‚ä½•æŸ¥è¯¢å’Œè¿½è¸ªï¼Ÿ

**A**: é‡è¯•æ¬¡æ•°å­˜å‚¨åœ¨Redisä¸­ï¼ŒKeyæ ¼å¼ä¸ºï¼š`{keyPrefix}{token}:retry:count`ã€‚å¯ä»¥é€šè¿‡RedisæŸ¥è¯¢å½“å‰é‡è¯•æ¬¡æ•°ã€‚é‡è¯•æ¬¡æ•°ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè¢«æ¸…é™¤ï¼š
- æ–¹æ³•æ‰§è¡ŒæˆåŠŸæ—¶
- è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°æ—¶
- æ£€æµ‹åˆ°SUCCESSçŠ¶æ€æ—¶

**æ³¨æ„**ï¼šé‡è¯•æ¬¡æ•°ç»Ÿè®¡ä½¿ç”¨Redis `INCR` åŸå­æ“ä½œï¼Œç¡®ä¿é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•°æ®ä¸€è‡´æ€§ã€‚

### Q5: å¦‚ä½•è‡ªå®šä¹‰Tokenè·å–æ–¹å¼ï¼Ÿ

**A**: æ”¯æŒå¤šç§Tokenè·å–æ–¹å¼ï¼Œä¼˜å…ˆçº§å¦‚ä¸‹ï¼š
1. SpELè¡¨è¾¾å¼ï¼ˆ`tokenExpression`ï¼‰
2. HTTPè¯·æ±‚å¤´ï¼ˆ`headerName`ï¼‰
3. HTTPè¯·æ±‚å‚æ•°ï¼ˆ`paramName`ï¼Œéœ€`allowParam = true`ï¼‰
4. RabbitMQæ¶ˆæ¯å¤´ï¼ˆ`headerName`ï¼‰

### Q6: ä¸‰çº§ç¼“å­˜æ¶æ„å¦‚ä½•å·¥ä½œï¼Ÿ

**A**: è¯·æ±‚æµç¨‹ï¼šå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼‰ â†’ Caffeineæœ¬åœ°ç¼“å­˜ â†’ Redisåˆ†å¸ƒå¼ç¼“å­˜ â†’ æ•°æ®åº“ã€‚è¿™ç§æ¶æ„å¯ä»¥æœ‰æ•ˆé˜²æ­¢ç¼“å­˜ç©¿é€ï¼Œæä¾›æœ€å¿«çš„è®¿é—®é€Ÿåº¦ï¼ŒåŒæ—¶ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚

### Q7: å¦‚ä½•æ‰©å±•æ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Ÿ

**A**: åŸºäº`zmbdp-mstemplate`å¾®æœåŠ¡æ¨¡æ¿åˆ›å»ºæ–°æ¨¡å—ï¼Œéµå¾ªController-Service-Mapperåˆ†å±‚æ¶æ„ï¼Œä½¿ç”¨ç»Ÿä¸€å“åº”æ ¼å¼å’Œå¼‚å¸¸å¤„ç†ï¼Œé›†æˆåˆ°ç½‘å…³è·¯ç”±é…ç½®å³å¯ã€‚

### Q8: å¹‚ç­‰æ€§æ³¨è§£åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹æ˜¯å¦ç¨³å®šï¼Ÿ

**A**: æ˜¯çš„ï¼Œç³»ç»Ÿé’ˆå¯¹é«˜å¹¶å‘åœºæ™¯è¿›è¡Œäº†å…¨é¢ä¼˜åŒ–ï¼š
- **åŸå­æ“ä½œ**ï¼šä½¿ç”¨Redis `INCR` å‘½ä»¤ç¡®ä¿é‡è¯•æ¬¡æ•°ç»Ÿè®¡çš„åŸå­æ€§ï¼Œå½»åº•è§£å†³å¹¶å‘ç«æ€é—®é¢˜
- **é€€é¿ç­–ç•¥**ï¼šé‡‡ç”¨æŒ‡æ•°é€€é¿ç­‰å¾…æœºåˆ¶ï¼ˆ50ms â†’ 100ms â†’ 150msï¼Œæœ€å¤§300msï¼‰ï¼Œé¿å…å¿™ç­‰å¯¼è‡´Rediså’ŒCPUå‹åŠ›è¿‡å¤§
- **è¿‡æœŸæ—¶é—´ä¼˜åŒ–**ï¼šä»…åœ¨ç¬¬ä¸€æ¬¡ `INCR` æ—¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå‡å°‘ä¸å¿…è¦çš„Redisæ“ä½œ
- **é™çº§å¤„ç†**ï¼šæ·»åŠ äº†æ“ä½œå¤±è´¥æ—¶çš„é™çº§å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨æç«¯æƒ…å†µä¸‹çš„ç¨³å®šæ€§

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- è¿æ¥æ± é…ç½®ä¼˜åŒ–ï¼ˆHikariCPï¼‰
- ç´¢å¼•ä¼˜åŒ–å’ŒæŸ¥è¯¢ä¼˜åŒ–
- åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–

### ç¼“å­˜ä¼˜åŒ–
- å¤šçº§ç¼“å­˜å‡å°‘æ•°æ®åº“è®¿é—®
- ç¼“å­˜é¢„çƒ­å’Œåˆ·æ–°æœºåˆ¶
- ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©é˜²æŠ¤

### å¹¶å‘ä¼˜åŒ–
- Redissonåˆ†å¸ƒå¼é”
- çº¿ç¨‹æ± å‚æ•°è°ƒä¼˜
- å¼‚æ­¥ä»»åŠ¡å¤„ç†

### JVMä¼˜åŒ–
- åˆç†çš„å †å†…å­˜é…ç½®
- GCå‚æ•°è°ƒä¼˜
- å†…å­˜æ³„æ¼ç›‘æ§

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› **Bugä¿®å¤**ï¼šå‘ç°å¹¶ä¿®å¤é¡¹ç›®ä¸­çš„é—®é¢˜
- âœ¨ **æ–°åŠŸèƒ½**ï¼šæ·»åŠ æ–°çš„åŠŸèƒ½ç‰¹æ€§
- ğŸ“ **æ–‡æ¡£æ”¹è¿›**ï¼šå®Œå–„é¡¹ç›®æ–‡æ¡£å’Œç¤ºä¾‹
- ğŸ¨ **ä»£ç ä¼˜åŒ–**ï¼šæ”¹è¿›ä»£ç è´¨é‡å’Œæ€§èƒ½
- ğŸ§ª **æµ‹è¯•è¡¥å……**ï¼šå¢åŠ æµ‹è¯•ç”¨ä¾‹è¦†ç›–

### è´¡çŒ®æµç¨‹

1. **Forké¡¹ç›®**ï¼šç‚¹å‡»å³ä¸Šè§’çš„ForkæŒ‰é’®
2. **åˆ›å»ºåˆ†æ”¯**ï¼šä»`master`åˆ†æ”¯åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
   ```bash
   git checkout -b feature/AmazingFeature
   ```
3. **æäº¤æ›´æ”¹**ï¼šç¼–å†™ä»£ç å¹¶æäº¤
   ```bash
   git commit -m 'Add some AmazingFeature'
   ```
4. **æ¨é€åˆ†æ”¯**ï¼šæ¨é€åˆ°ä½ çš„Forkä»“åº“
   ```bash
   git push origin feature/AmazingFeature
   ```
5. **å¼€å¯PR**ï¼šåœ¨GitHubä¸Šåˆ›å»ºPull Request

### ä»£ç è§„èŒƒ

- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œè§„èŒƒ
- ä»£ç æ³¨é‡Šå®Œæ•´ï¼Œç‰¹åˆ«æ˜¯å…¬å…±æ–¹æ³•
- æäº¤ä¿¡æ¯æ¸…æ™°æ˜ç¡®
- æ–°å¢åŠŸèƒ½éœ€è¡¥å……å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹

### é—®é¢˜åé¦ˆ

å¦‚æœå‘ç°Bugæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š
- ğŸ“§ å‘é€é‚®ä»¶è‡³ï¼šJavaFH@163.com
- ğŸ› æäº¤Issueï¼š[GitHub Issues](https://github.com/zmbdp/frameworkjava/issues)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ï¼Œæ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚

## ğŸ“® è”ç³»æ–¹å¼

- ğŸ‘¤ **ä½œè€…**: ç¨šåä¸å¸¦æ’‡
- ğŸ“§ **é‚®ç®±**: JavaFH@163.com
- ğŸ™ **GitHub**: [https://github.com/zmbdp](https://github.com/zmbdp)
- ğŸ“š **é¡¹ç›®åœ°å€**: [https://github.com/zmbdp/frameworkjava](https://github.com/zmbdp/frameworkjava)

## ğŸ™ é¸£è°¢

æ„Ÿè°¢ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®å’ŒæŠ€æœ¯ç¤¾åŒºï¼š

- [Spring Boot](https://spring.io/projects/spring-boot) - æ ¸å¿ƒæ¡†æ¶
- [Spring Cloud](https://spring.io/projects/spring-cloud) - å¾®æœåŠ¡æ¡†æ¶
- [Spring Cloud Alibaba](https://github.com/alibaba/spring-cloud-alibaba) - é˜¿é‡Œå¾®æœåŠ¡ç»„ä»¶
- [MyBatis-Plus](https://github.com/baomidou/mybatis-plus) - ORMæ¡†æ¶
- [EasyExcel](https://github.com/alibaba/easyexcel) - Excelå¤„ç†
- [Hutool](https://github.com/dromara/hutool) - Javaå·¥å…·ç±»åº“
- ä»¥åŠæ‰€æœ‰ä¸ºå¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by [ç¨šåä¸å¸¦æ’‡](https://github.com/zmbdp)

</div>
